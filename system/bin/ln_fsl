#!/bin/bash

# ln_fsl
# Authors: Matt Allbright
# Designed to streamline the process of running git commands and deploying new
# and updated scripts in the SCAN Lab.

# These brackets are required for loading an entire program into memory. In this case
# the program will be overwritten with a newer version whenever the repository is
# cloned.

bin = echo `ls /opt/cloud/staging/fsl/bin/`
binarr = ( $bin )
lib = echo `ls /opt/cloud/staging/fsl/lib/`
libarr = ( $lib )

for i in "${binarr[@]}"; do
  rm -rf /usr/local/share/fsl/5.0/bin/$i
  echo "Symlinking $i"
  ln -s /opt/cloud/staging/fsl/bin/$i /usr/local/share/fsl/5.0/bin/$i
done

for j in "${libarr[@]}"; do
  rm -rf /usr/local/share/fsl/5.0/bin/$j
  echo "Symlinking $j"
  ln -s /opt/cloud/staging/fsl/bin/$j /usr/local/share/fsl/5.0/bin/$j
done
